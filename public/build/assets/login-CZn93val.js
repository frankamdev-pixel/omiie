import{r as i,j as e,b as K,H as U}from"./app-BgFApJAr.js";import{I as R}from"./input-error-CMwNtbRw.js";import{T as S}from"./text-link-CcWahcAa.js";import{u as B,B as X}from"./button-CSQ-euBX.js";import{c as $,P as J,u as Q,a as _}from"./index-8LrKGvUP.js";import{u as V}from"./index-D0OcYabj.js";import{P as E}from"./index-pKIHOgd6.js";import{c as W}from"./utils-CBfrqCZ4.js";import{C as Y}from"./check-CUfM7ACY.js";import{I as L}from"./input-WjweBYl-.js";import{L as N}from"./label-SCVAjgz6.js";import{A as Z}from"./auth-layout-B-PYRWu-.js";import{E as ee,a as te}from"./eye-67CdQYGh.js";import{L as re}from"./loader-circle-DGJcY_M_.js";/* empty css            */import"./createLucideIcon-DIFmE54P.js";function se(t){const s=i.useRef({value:t,previous:t});return i.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var j="Checkbox",[oe,Ne]=$(j),[ae,P]=oe(j);function ne(t){const{__scopeCheckbox:s,checked:o,children:c,defaultChecked:n,disabled:r,form:p,name:l,onCheckedChange:u,required:h,value:a="on",internal_do_not_use_render:f}=t,[x,C]=Q({prop:o,defaultProp:n??!1,onChange:u,caller:j}),[k,v]=i.useState(null),[g,d]=i.useState(null),m=i.useRef(!1),y=k?!!p||!!k.closest("form"):!0,w={checked:x,disabled:r,setChecked:C,control:k,setControl:v,name:l,form:p,value:a,hasConsumerStoppedPropagationRef:m,required:h,defaultChecked:b(n)?!1:n,isFormControl:y,bubbleInput:g,setBubbleInput:d};return e.jsx(ae,{scope:s,...w,children:ie(f)?f(w):c})}var M="CheckboxTrigger",F=i.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:o,...c},n)=>{const{control:r,value:p,disabled:l,checked:u,required:h,setControl:a,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:C,bubbleInput:k}=P(M,t),v=B(n,a),g=i.useRef(u);return i.useEffect(()=>{const d=r?.form;if(d){const m=()=>f(g.current);return d.addEventListener("reset",m),()=>d.removeEventListener("reset",m)}},[r,f]),e.jsx(E.button,{type:"button",role:"checkbox","aria-checked":b(u)?"mixed":u,"aria-required":h,"data-state":H(u),"data-disabled":l?"":void 0,disabled:l,value:p,...c,ref:v,onKeyDown:_(s,d=>{d.key==="Enter"&&d.preventDefault()}),onClick:_(o,d=>{f(m=>b(m)?!0:!m),k&&C&&(x.current=d.isPropagationStopped(),x.current||d.stopPropagation())})})});F.displayName=M;var T=i.forwardRef((t,s)=>{const{__scopeCheckbox:o,name:c,checked:n,defaultChecked:r,required:p,disabled:l,value:u,onCheckedChange:h,form:a,...f}=t;return e.jsx(ne,{__scopeCheckbox:o,checked:n,defaultChecked:r,disabled:l,required:p,onCheckedChange:h,name:c,form:a,value:u,internal_do_not_use_render:({isFormControl:x})=>e.jsxs(e.Fragment,{children:[e.jsx(F,{...f,ref:s,__scopeCheckbox:o}),x&&e.jsx(z,{__scopeCheckbox:o})]})})});T.displayName=j;var q="CheckboxIndicator",A=i.forwardRef((t,s)=>{const{__scopeCheckbox:o,forceMount:c,...n}=t,r=P(q,o);return e.jsx(J,{present:c||b(r.checked)||r.checked===!0,children:e.jsx(E.span,{"data-state":H(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...t.style}})})});A.displayName=q;var D="CheckboxBubbleInput",z=i.forwardRef(({__scopeCheckbox:t,...s},o)=>{const{control:c,hasConsumerStoppedPropagationRef:n,checked:r,defaultChecked:p,required:l,disabled:u,name:h,value:a,form:f,bubbleInput:x,setBubbleInput:C}=P(D,t),k=B(o,C),v=se(r),g=V(c);i.useEffect(()=>{const m=x;if(!m)return;const y=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(y,"checked").set,O=!n.current;if(v!==r&&I){const G=new Event("click",{bubbles:O});m.indeterminate=b(r),I.call(m,b(r)?!1:r),m.dispatchEvent(G)}},[x,v,r,n]);const d=i.useRef(b(r)?!1:r);return e.jsx(E.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??d.current,required:l,disabled:u,name:h,value:a,form:f,...s,tabIndex:-1,ref:k,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});z.displayName=D;function ie(t){return typeof t=="function"}function b(t){return t==="indeterminate"}function H(t){return b(t)?"indeterminate":t?"checked":"unchecked"}function ce({className:t,...s}){return e.jsx(T,{"data-slot":"checkbox",className:W("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(A,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(Y,{className:"size-3.5"})})})}function Ee({status:t,canResetPassword:s}){const{data:o,setData:c,post:n,processing:r,errors:p}=K({email:"",password:"",remember:!1}),[l,u]=i.useState(!1),h=a=>{a.preventDefault(),n("/login")};return e.jsxs(Z,{title:"Connexion",description:"Entrez vos identifiants pour vous connecter",children:[e.jsx(U,{title:"Connexion"}),e.jsxs("form",{onSubmit:h,className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(N,{htmlFor:"email",children:"Email"}),e.jsx(L,{id:"email",type:"email",name:"email",value:o.email,onChange:a=>c("email",a.target.value),required:!0,placeholder:"email@example.com"}),e.jsx(R,{message:p.email})]}),e.jsxs("div",{className:"grid gap-2 relative",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{htmlFor:"password",children:"Mot de passe"}),s&&e.jsx(S,{href:"/forgot-password",className:"ml-auto text-sm",children:"Mot de passe oublié ?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{id:"password",type:l?"text":"password",name:"password",value:o.password,onChange:a=>c("password",a.target.value),required:!0,placeholder:"••••••••",className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700 dark:text-gray-400",children:l?e.jsx(ee,{className:"h-4 w-4"}):e.jsx(te,{className:"h-4 w-4"})})]}),e.jsx(R,{message:p.password})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ce,{id:"remember",name:"remember",checked:o.remember,onCheckedChange:a=>c("remember",!!a)}),e.jsx(N,{htmlFor:"remember",children:"Se souvenir de moi"})]}),e.jsxs(X,{type:"submit",className:"mt-4 w-full",disabled:r,children:[r&&e.jsx(re,{className:"h-4 w-4 animate-spin"}),"Se connecter"]})]}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Pas encore de compte ? ",e.jsx(S,{href:"/register",children:"S’inscrire"})]})]}),t&&e.jsx("div",{className:"mt-4 text-center text-sm font-medium text-green-600",children:t})]})}export{Ee as default};

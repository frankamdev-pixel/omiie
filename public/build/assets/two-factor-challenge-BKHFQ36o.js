import{r as c,j as e,H as g,F as y,c as u}from"./app-BgFApJAr.js";import{I as d}from"./input-error-CMwNtbRw.js";import{B as j}from"./button-CSQ-euBX.js";import{I as v}from"./input-WjweBYl-.js";import{I as b,K as C,O as m,a as I,b as T}from"./use-two-factor-auth-CfmvKN9H.js";import{A as w}from"./auth-layout-B-PYRWu-.js";/* empty css            */import"./utils-CBfrqCZ4.js";import"./createLucideIcon-DIFmE54P.js";function H(){const[t,p]=c.useState(!1),[r,s]=c.useState(""),a=c.useMemo(()=>t?{title:"Recovery Code",description:"Please confirm access to your account by entering one of your emergency recovery codes.",toggleText:"login using an authentication code"}:{title:"Authentication Code",description:"Enter the authentication code provided by your authenticator application.",toggleText:"login using a recovery code"},[t]),x=o=>{p(!t),o(),s("")},h=o=>{o.preventDefault(),t?u.post("/two-factor-challenge",{recovery_code:r}):u.post("/two-factor-challenge",{code:r})};return e.jsxs(w,{title:a.title,description:a.description,children:[e.jsx(g,{title:"Two-Factor Authentication"}),e.jsx("div",{className:"space-y-6",children:e.jsx(y,{onSubmit:h,className:"space-y-4",children:({errors:o,processing:i,clearErrors:f})=>e.jsxs(e.Fragment,{children:[t?e.jsxs(e.Fragment,{children:[e.jsx(v,{name:"recovery_code",type:"text",placeholder:"Enter recovery code",autoFocus:t,required:!0,value:r,onChange:n=>s(n.target.value)}),e.jsx(d,{message:o.recovery_code})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 text-center",children:[e.jsx("div",{className:"flex w-full items-center justify-center",children:e.jsx(b,{name:"code",maxLength:m,value:r,onChange:n=>s(n),disabled:i,pattern:C,children:e.jsx(I,{children:Array.from({length:m},(n,l)=>e.jsx(T,{index:l},l))})})}),e.jsx(d,{message:o.code})]}),e.jsx(j,{type:"submit",className:"w-full",disabled:i,children:"Continue"}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[e.jsx("span",{children:"or you can "}),e.jsx("button",{type:"button",className:"cursor-pointer text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current dark:decoration-neutral-500",onClick:()=>x(f),children:a.toggleText})]})]})})})]})}export{H as default};
